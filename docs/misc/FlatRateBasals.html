
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>challenges of flat basal profiles Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2015.06.29CareLinkCSVChanges.html" />
    
    
    <link rel="prev" href="PWDSimulators.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../StartHere.html">
            
                <a href="../StartHere.html">
            
                    
                    Tidepool uploader developer guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../guide/FeatureOverview.html">
            
                <a href="../guide/FeatureOverview.html">
            
                    
                    Overview of features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../guide/DirectoryStructure.html">
            
                <a href="../guide/DirectoryStructure.html">
            
                    
                    App & directory structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../guide/Architecture.html">
            
                <a href="../guide/Architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../guide/CodeStyle.html">
            
                <a href="../guide/CodeStyle.html">
            
                    
                    Code style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../state/">
            
                <a href="../state/">
            
                    
                    Application state via Redux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../state/ExampleStateTree.html">
            
                <a href="../state/ExampleStateTree.html">
            
                    
                    Example state tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../state/StateTreeGlossary.html">
            
                <a href="../state/StateTreeGlossary.html">
            
                    
                    Glossary of state tree terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../state/CustomMiddleware.html">
            
                <a href="../state/CustomMiddleware.html">
            
                    
                    Custom middleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../checklisttemplates/">
            
                <a href="../checklisttemplates/">
            
                    
                    checklist TEMPLATES
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../checklisttemplates/BGMChecklist.html">
            
                <a href="../checklisttemplates/BGMChecklist.html">
            
                    
                    BGM Checklist
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../checklisttemplates/CGMChecklist.html">
            
                <a href="../checklisttemplates/CGMChecklist.html">
            
                    
                    CGM Checklist
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../checklisttemplates/PumpChecklist.html">
            
                <a href="../checklisttemplates/PumpChecklist.html">
            
                    
                    Insulin Pump Checklist
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../checklists/">
            
                <a href="../checklists/">
            
                    
                    checklists
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../checklists/abbottFreeStyleLite.html">
            
                <a href="../checklists/abbottFreeStyleLite.html">
            
                    
                    Abbott FreeStyle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../checklists/abbottPrecisionXtra.html">
            
                <a href="../checklists/abbottPrecisionXtra.html">
            
                    
                    Abbott Precision Xtra
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../checklists/animasCGM.html">
            
                <a href="../checklists/animasCGM.html">
            
                    
                    Animas Vibe CGM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../checklists/animasPingAndVibe.html">
            
                <a href="../checklists/animasPingAndVibe.html">
            
                    
                    Animas Ping and Vibe Insulin Pumps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../checklists/bayerContourNext.html">
            
                <a href="../checklists/bayerContourNext.html">
            
                    
                    Bayer Contour Next
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="../checklists/dexcom.html">
            
                <a href="../checklists/dexcom.html">
            
                    
                    Dexcom CGM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.7" data-path="../checklists/carelinkCGM.html">
            
                <a href="../checklists/carelinkCGM.html">
            
                    
                    CareLink (CGM data)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="../checklists/carelinkPumpData.html">
            
                <a href="../checklists/carelinkPumpData.html">
            
                    
                    CareLink (insulin pump data)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.9" data-path="../checklists/oneTouchVerioIQ.html">
            
                <a href="../checklists/oneTouchVerioIQ.html">
            
                    
                    OneTouch VerioIQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.10" data-path="../checklists/insuletOmniPod.html">
            
                <a href="../checklists/insuletOmniPod.html">
            
                    
                    Insulet OmniPod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.11" data-path="../checklists/tandemCGM.html">
            
                <a href="../checklists/tandemCGM.html">
            
                    
                    Tandem G4 CGM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.12" data-path="../checklists/tandem.html">
            
                <a href="../checklists/tandem.html">
            
                    
                    Tandem Insulin Pumps
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <span>
            
                    
                    CLI tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../../lib/drivers/carelink/cli/">
            
                <a href="../../lib/drivers/carelink/cli/">
            
                    
                    CareLink CLI tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../../lib/drivers/insulet/cli/">
            
                <a href="../../lib/drivers/insulet/cli/">
            
                    
                    OmniPod CLI tool
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="./">
            
                <a href="./">
            
                    
                    miscellaneous
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../BootstrappingToUTC.html">
            
                <a href="../BootstrappingToUTC.html">
            
                    
                    "bootstrapping" to UTC (BtUTC)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="CSSModules.html">
            
                <a href="CSSModules.html">
            
                    
                    use of CSS modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="PWDSimulators.html">
            
                <a href="PWDSimulators.html">
            
                    
                    PWD "simulators"
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.4.4" data-path="FlatRateBasals.html">
            
                <a href="FlatRateBasals.html">
            
                    
                    challenges of flat basal profiles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="2015.06.29CareLinkCSVChanges.html">
            
                <a href="2015.06.29CareLinkCSVChanges.html">
            
                    
                    2015.06 CareLink CSV updates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >challenges of flat basal profiles</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="flat-rate-basals">Flat-Rate Basals</h2>
<h3 id="the-problem">The Problem</h3>
<p>Most - if not all - diabetes manufacturers represent basal rate insulin data with <em>basal rate change</em> events (see <a href="#terminology">Terminology</a> below) rather than <em>basal rate intervals</em>. In the particular case where the user of an insulin pump has programmed a <em>flat-rate basal schedule</em>, this means that flat-rate basal rate change events are represented in one of two ways:</p>
<ol>
<li><p>The pump records a basal rate change event every midnight (local device time) when the basal schedule (with its single segment) takes effect, as well as at any other times when the basal rate has changed such as upon the conclusion of a temp basal or on resumption from a suspend event.</p>
</li>
<li><p>The pump records a basal rate change event only when the basal rate has actually <em>changed</em>, which means only: on first initialization of the schedule and after any temp basals or resumption from a suspend event.</p>
</li>
</ol>
<p>The second representation - only recording basal rate change events when the insulin delivery rate has truly changed - unfortunately poses quite a challenge for any data processing (such as ours at Tidepool) attempting to transform <em>basal rate change events</em> (point-in-time data) to <em>basal rate segments</em> (interval data). The issue is that when determining the duration of a basal rate segment from the user&apos;s current settings (as is necessary for the final basal segment in any upload), our general strategy is to only extend the duration of the final segment up to the maximum based on the final basal&apos;s matched segment in the schedule - no greater than twenty-four hours on a normal (i.e., not affected by DST) day. If a user has a flat-rate basal, this means we may fail to extend basal data up until the time of upload (if the last rate change was several days prior to upload). In this case, the user will appear to be missing basal data for the most recent day(s) in their upload. One potential solution to this problem is to &quot;simulate&quot; basal rate change events at midnight as an aid to producing the correct basal rate segments representing the scheduled delivery for each day. If this strategy is employed, the segments resulting from such fabrication should be given an annotation to record that they are fabricated events.</p>
<h3 id="terminology">Terminology</h3>
<p><strong>basal rate change</strong>: A basal rate change event is a point-in-time data type. It consists of a <em>rate</em> (insulin delivery in units of insulin per hour) and a timestamp.</p>
<p><strong>basal (rate) segment</strong>: A basal (rate) segment is an interval data type. It consists of a <em>rate</em> (insulin delivery in units of insulin per hour), and either a pair of <em>start</em> and <em>end</em> timestamps or a <em>start</em> timestamp and a <em>duration</em>.</p>
<p><strong>basal schedule</strong>: A set of basal rate segments that is programmed into an insulin pump. Each basal schedule represents the basal rate(s) (in units of insulin per hour) to be delivered at different times in a standard twenty-four hour day. Thus, each segment of the schedule consists of a <em>rate</em> and a <em>start</em>. The latter is represented as milliseconds from midnight. The first segment of every basal schedule will have a <em>start</em> of 0 (representing midnight). When there is more than one segment in the schedule, the duration of each segment is determined by subtracting the start of the segment in question from the start of the following segment. If there is only one segment in the schedule, it&apos;s duration is (normally) 86,400,000 milliseconds (twenty-four hours), but it could be 90,000,000 or 82,800,000 on a (theoretical) device that is timezone-aware and set to a timezone that observes Daylight Savings Time.</p>
<p>(NB: Various manufacturers use different terms for this - e.g., basal profile. We have chosen basal schedule as our standard term.)</p>
<p><strong>flat-rate basal (schedule)</strong>: A flat-rate basal (or more precisely a flat-rate basal <em>schedule</em>) is a basal schedule that consists in only <em>one</em> basal rate segment that operates all twenty-four hours of a normal day.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="PWDSimulators.html" class="navigation navigation-prev " aria-label="Previous page: PWD "simulators"">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2015.06.29CareLinkCSVChanges.html" class="navigation navigation-next " aria-label="Next page: 2015.06 CareLink CSV updates">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"challenges of flat basal profiles","level":"2.4.4","depth":2,"next":{"title":"2015.06 CareLink CSV updates","level":"2.4.5","depth":2,"path":"docs/misc/2015.06.29CareLinkCSVChanges.md","ref":"docs/misc/2015.06.29CareLinkCSVChanges.md","articles":[]},"previous":{"title":"PWD \"simulators\"","level":"2.4.3","depth":2,"path":"docs/misc/PWDSimulators.md","ref":"docs/misc/PWDSimulators.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"docs/misc/FlatRateBasals.md","mtime":"2017-05-11T21:30:38.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-05-26T23:09:10.174Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

